{"ast":null,"code":"import _classCallCheck from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nvar ReferenceNode = /*#__PURE__*/function (_Node) {\n  _inherits(ReferenceNode, _Node);\n\n  var _super = _createSuper(ReferenceNode);\n\n  function ReferenceNode(property, uniformType) {\n    var _this;\n\n    var object = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, ReferenceNode);\n\n    _this = _super.call(this);\n    _this.property = property;\n    _this.uniformType = uniformType;\n    _this.object = object;\n    _this.node = null;\n    _this.updateType = NodeUpdateType.Object;\n\n    _this.setNodeType(uniformType);\n\n    return _this;\n  }\n\n  _createClass(ReferenceNode, [{\n    key: \"setNodeType\",\n    value: function setNodeType(uniformType) {\n      this.node = new UniformNode(null, uniformType);\n      this.nodeType = uniformType;\n\n      if (uniformType === 'color') {\n        this.nodeType = 'vec3';\n      } else if (uniformType === 'texture') {\n        this.nodeType = 'vec4';\n      }\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType() {\n      return this.uniformType;\n    }\n  }, {\n    key: \"update\",\n    value: function update(frame) {\n      var object = this.object !== null ? this.object : frame.object;\n      var value = object[this.property];\n      this.node.value = value;\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder) {\n      return this.node.build(builder, this.getNodeType(builder));\n    }\n  }]);\n\n  return ReferenceNode;\n}(Node);\n\nexport default ReferenceNode;","map":{"version":3,"sources":["C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/three-stdlib/nodes/accessors/ReferenceNode.js"],"names":["Node","UniformNode","NodeUpdateType","ReferenceNode","property","uniformType","object","node","updateType","Object","setNodeType","nodeType","frame","value","builder","build","getNodeType"],"mappings":";;;;AAAA,OAAOA,IAAP,MAAiB,iBAAjB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,cAAT,QAA+B,sBAA/B;;IAEMC,a;;;;;AACJ,yBAAYC,QAAZ,EAAsBC,WAAtB,EAAkD;AAAA;;AAAA,QAAfC,MAAe,uEAAN,IAAM;;AAAA;;AAChD;AACA,UAAKF,QAAL,GAAgBA,QAAhB;AACA,UAAKC,WAAL,GAAmBA,WAAnB;AACA,UAAKC,MAAL,GAAcA,MAAd;AACA,UAAKC,IAAL,GAAY,IAAZ;AACA,UAAKC,UAAL,GAAkBN,cAAc,CAACO,MAAjC;;AACA,UAAKC,WAAL,CAAiBL,WAAjB;;AAPgD;AAQjD;;;;WAED,qBAAYA,WAAZ,EAAyB;AACvB,WAAKE,IAAL,GAAY,IAAIN,WAAJ,CAAgB,IAAhB,EAAsBI,WAAtB,CAAZ;AACA,WAAKM,QAAL,GAAgBN,WAAhB;;AAEA,UAAIA,WAAW,KAAK,OAApB,EAA6B;AAC3B,aAAKM,QAAL,GAAgB,MAAhB;AACD,OAFD,MAEO,IAAIN,WAAW,KAAK,SAApB,EAA+B;AACpC,aAAKM,QAAL,GAAgB,MAAhB;AACD;AACF;;;WAED,uBAAc;AACZ,aAAO,KAAKN,WAAZ;AACD;;;WAED,gBAAOO,KAAP,EAAc;AACZ,UAAMN,MAAM,GAAG,KAAKA,MAAL,KAAgB,IAAhB,GAAuB,KAAKA,MAA5B,GAAqCM,KAAK,CAACN,MAA1D;AACA,UAAMO,KAAK,GAAGP,MAAM,CAAC,KAAKF,QAAN,CAApB;AACA,WAAKG,IAAL,CAAUM,KAAV,GAAkBA,KAAlB;AACD;;;WAED,kBAASC,OAAT,EAAkB;AAChB,aAAO,KAAKP,IAAL,CAAUQ,KAAV,CAAgBD,OAAhB,EAAyB,KAAKE,WAAL,CAAiBF,OAAjB,CAAzB,CAAP;AACD;;;;EAlCyBd,I;;AAsC5B,eAAeG,aAAf","sourcesContent":["import Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass ReferenceNode extends Node {\n  constructor(property, uniformType, object = null) {\n    super();\n    this.property = property;\n    this.uniformType = uniformType;\n    this.object = object;\n    this.node = null;\n    this.updateType = NodeUpdateType.Object;\n    this.setNodeType(uniformType);\n  }\n\n  setNodeType(uniformType) {\n    this.node = new UniformNode(null, uniformType);\n    this.nodeType = uniformType;\n\n    if (uniformType === 'color') {\n      this.nodeType = 'vec3';\n    } else if (uniformType === 'texture') {\n      this.nodeType = 'vec4';\n    }\n  }\n\n  getNodeType() {\n    return this.uniformType;\n  }\n\n  update(frame) {\n    const object = this.object !== null ? this.object : frame.object;\n    const value = object[this.property];\n    this.node.value = value;\n  }\n\n  generate(builder) {\n    return this.node.build(builder, this.getNodeType(builder));\n  }\n\n}\n\nexport default ReferenceNode;\n"]},"metadata":{},"sourceType":"module"}