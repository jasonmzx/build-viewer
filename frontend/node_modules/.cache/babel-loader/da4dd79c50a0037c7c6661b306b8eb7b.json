{"ast":null,"code":"import _objectSpread from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"samples\"];\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber'; // ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\n\nfunction useFBO(width, height, settings) {\n  var _useThree = useThree(),\n      gl = _useThree.gl,\n      size = _useThree.size;\n\n  var dpr = React.useMemo(function () {\n    return gl.getPixelRatio();\n  }, [gl]);\n\n  var _width = typeof width === 'number' ? width : size.width * dpr;\n\n  var _height = typeof height === 'number' ? height : size.height * dpr;\n\n  var _settings = (typeof width === 'number' ? settings : width) || {};\n\n  var samples = _settings.samples,\n      targetSettings = _objectWithoutProperties(_settings, _excluded);\n\n  var target = React.useMemo(function () {\n    var target;\n    target = new THREE.WebGLRenderTarget(_width, _height, _objectSpread({\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      encoding: gl.outputEncoding,\n      type: THREE.HalfFloatType\n    }, targetSettings));\n    return target;\n  }, []);\n  React.useLayoutEffect(function () {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(function () {\n    return function () {\n      return target.dispose();\n    };\n  }, []);\n  return target;\n}\n\nexport { useFBO };","map":{"version":3,"sources":["C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/@react-three/drei/core/useFBO.js"],"names":["React","THREE","useThree","useFBO","width","height","settings","gl","size","dpr","useMemo","getPixelRatio","_width","_height","_settings","samples","targetSettings","target","WebGLRenderTarget","minFilter","LinearFilter","magFilter","encoding","outputEncoding","type","HalfFloatType","useLayoutEffect","setSize","useEffect","dispose"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,oBAAzB,C,CAEA;AACA;;AACA,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,QAA/B,EAAyC;AACvC,kBAGIJ,QAAQ,EAHZ;AAAA,MACEK,EADF,aACEA,EADF;AAAA,MAEEC,IAFF,aAEEA,IAFF;;AAIA,MAAMC,GAAG,GAAGT,KAAK,CAACU,OAAN,CAAc;AAAA,WAAMH,EAAE,CAACI,aAAH,EAAN;AAAA,GAAd,EAAwC,CAACJ,EAAD,CAAxC,CAAZ;;AAEA,MAAMK,MAAM,GAAG,OAAOR,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCI,IAAI,CAACJ,KAAL,GAAaK,GAAhE;;AAEA,MAAMI,OAAO,GAAG,OAAOR,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsCG,IAAI,CAACH,MAAL,GAAcI,GAApE;;AAEA,MAAMK,SAAS,GAAG,CAAC,OAAOV,KAAP,KAAiB,QAAjB,GAA4BE,QAA5B,GAAuCF,KAAxC,KAAkD,EAApE;;AAEA,MACEW,OADF,GAGID,SAHJ,CACEC,OADF;AAAA,MAEKC,cAFL,4BAGIF,SAHJ;;AAIA,MAAMG,MAAM,GAAGjB,KAAK,CAACU,OAAN,CAAc,YAAM;AACjC,QAAIO,MAAJ;AACAA,IAAAA,MAAM,GAAG,IAAIhB,KAAK,CAACiB,iBAAV,CAA4BN,MAA5B,EAAoCC,OAApC;AACPM,MAAAA,SAAS,EAAElB,KAAK,CAACmB,YADV;AAEPC,MAAAA,SAAS,EAAEpB,KAAK,CAACmB,YAFV;AAGPE,MAAAA,QAAQ,EAAEf,EAAE,CAACgB,cAHN;AAIPC,MAAAA,IAAI,EAAEvB,KAAK,CAACwB;AAJL,OAKJT,cALI,EAAT;AAOA,WAAOC,MAAP;AACD,GAVc,EAUZ,EAVY,CAAf;AAWAjB,EAAAA,KAAK,CAAC0B,eAAN,CAAsB,YAAM;AAC1BT,IAAAA,MAAM,CAACU,OAAP,CAAef,MAAf,EAAuBC,OAAvB;AACA,QAAIE,OAAJ,EAAaE,MAAM,CAACF,OAAP,GAAiBA,OAAjB;AACd,GAHD,EAGG,CAACA,OAAD,EAAUE,MAAV,EAAkBL,MAAlB,EAA0BC,OAA1B,CAHH;AAIAb,EAAAA,KAAK,CAAC4B,SAAN,CAAgB,YAAM;AACpB,WAAO;AAAA,aAAMX,MAAM,CAACY,OAAP,EAAN;AAAA,KAAP;AACD,GAFD,EAEG,EAFH;AAGA,SAAOZ,MAAP;AACD;;AAED,SAASd,MAAT","sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(width, height, settings) {\n  const {\n    gl,\n    size\n  } = useThree();\n  const dpr = React.useMemo(() => gl.getPixelRatio(), [gl]);\n\n  const _width = typeof width === 'number' ? width : size.width * dpr;\n\n  const _height = typeof height === 'number' ? height : size.height * dpr;\n\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n\n  const {\n    samples,\n    ...targetSettings\n  } = _settings;\n  const target = React.useMemo(() => {\n    let target;\n    target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      encoding: gl.outputEncoding,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\n\nexport { useFBO };\n"]},"metadata":{},"sourceType":"module"}