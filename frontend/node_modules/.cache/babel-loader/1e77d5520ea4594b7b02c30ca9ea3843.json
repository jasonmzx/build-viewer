{"ast":null,"code":"import _slicedToArray from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"compute\", \"name\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { BufferAttribute } from 'three';\n/**\n * Used exclusively as a child of a BufferGeometry.\n * Computes the BufferAttribute by calling the `compute` function\n * and attaches the attribute to the geometry.\n */\n\nvar ComputedAttribute = function ComputedAttribute(_ref2) {\n  var compute = _ref2.compute,\n      name = _ref2.name,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  var _React$useState = React.useState(function () {\n    return new BufferAttribute(new Float32Array(0), 1);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      bufferAttribute = _React$useState2[0];\n\n  var primitive = React.useRef(null);\n  React.useLayoutEffect(function () {\n    if (primitive.current) {\n      var _ref; // @ts-expect-error brittle\n\n\n      var parent = (_ref = primitive.current.parent) !== null && _ref !== void 0 ? _ref : primitive.current.__r3f.parent;\n      var attr = compute(parent);\n      primitive.current.copy(attr);\n    }\n  }, [compute]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: primitive,\n    object: bufferAttribute,\n    attachObject: ['attributes', name]\n  }, props));\n};\n\nexport { ComputedAttribute };","map":{"version":3,"sources":["C:/Users/jason/Documents/GitHub/build-viewer/frontend/node_modules/@react-three/drei/core/ComputedAttribute.js"],"names":["_extends","React","BufferAttribute","ComputedAttribute","compute","name","props","useState","Float32Array","bufferAttribute","primitive","useRef","useLayoutEffect","current","_ref","parent","__r3f","attr","copy","createElement","ref","object","attachObject"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,QAAgC,OAAhC;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,QAIpB;AAAA,MAHJC,OAGI,SAHJA,OAGI;AAAA,MAFJC,IAEI,SAFJA,IAEI;AAAA,MADDC,KACC;;AACJ,wBAA0BL,KAAK,CAACM,QAAN,CAAe;AAAA,WAAM,IAAIL,eAAJ,CAAoB,IAAIM,YAAJ,CAAiB,CAAjB,CAApB,EAAyC,CAAzC,CAAN;AAAA,GAAf,CAA1B;AAAA;AAAA,MAAOC,eAAP;;AACA,MAAMC,SAAS,GAAGT,KAAK,CAACU,MAAN,CAAa,IAAb,CAAlB;AACAV,EAAAA,KAAK,CAACW,eAAN,CAAsB,YAAM;AAC1B,QAAIF,SAAS,CAACG,OAAd,EAAuB;AACrB,UAAIC,IAAJ,CADqB,CAGrB;;;AACA,UAAMC,MAAM,GAAG,CAACD,IAAI,GAAGJ,SAAS,CAACG,OAAV,CAAkBE,MAA1B,MAAsC,IAAtC,IAA8CD,IAAI,KAAK,KAAK,CAA5D,GAAgEA,IAAhE,GAAuEJ,SAAS,CAACG,OAAV,CAAkBG,KAAlB,CAAwBD,MAA9G;AACA,UAAME,IAAI,GAAGb,OAAO,CAACW,MAAD,CAApB;AACAL,MAAAA,SAAS,CAACG,OAAV,CAAkBK,IAAlB,CAAuBD,IAAvB;AACD;AACF,GATD,EASG,CAACb,OAAD,CATH;AAUA,SAAO,aAAaH,KAAK,CAACkB,aAAN,CAAoB,WAApB,EAAiCnB,QAAQ,CAAC;AAC5DoB,IAAAA,GAAG,EAAEV,SADuD;AAE5DW,IAAAA,MAAM,EAAEZ,eAFoD;AAG5Da,IAAAA,YAAY,EAAE,CAAC,YAAD,EAAejB,IAAf;AAH8C,GAAD,EAI1DC,KAJ0D,CAAzC,CAApB;AAKD,CAtBD;;AAwBA,SAASH,iBAAT","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { BufferAttribute } from 'three';\n\n/**\n * Used exclusively as a child of a BufferGeometry.\n * Computes the BufferAttribute by calling the `compute` function\n * and attaches the attribute to the geometry.\n */\nconst ComputedAttribute = ({\n  compute,\n  name,\n  ...props\n}) => {\n  const [bufferAttribute] = React.useState(() => new BufferAttribute(new Float32Array(0), 1));\n  const primitive = React.useRef(null);\n  React.useLayoutEffect(() => {\n    if (primitive.current) {\n      var _ref;\n\n      // @ts-expect-error brittle\n      const parent = (_ref = primitive.current.parent) !== null && _ref !== void 0 ? _ref : primitive.current.__r3f.parent;\n      const attr = compute(parent);\n      primitive.current.copy(attr);\n    }\n  }, [compute]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: primitive,\n    object: bufferAttribute,\n    attachObject: ['attributes', name]\n  }, props));\n};\n\nexport { ComputedAttribute };\n"]},"metadata":{},"sourceType":"module"}